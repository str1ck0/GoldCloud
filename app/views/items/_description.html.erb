<div data-controller="toggle">
  <div class="product-description d-flex justify-content-between align-items-center mb-3">
    <div class="d-flex align-items-center">
      <p data-action="click->toggle#toggle" data-toggle-target="button" class="text-success m-0">Show Description</p>
      <i class="fa-solid fa-chevron-down ms-1 text-success"></i>
    </div>

    <div class="rating">
      <% item.average_rating.to_i.times do %>
        <i class="bi bi-star-fill text-warning"></i>
      <% end %>
      <% (5 - item.average_rating.to_i).times do %>
        <i class="bi bi-star text-warning"></i>
      <% end %>
      <span class="ms-1">(<%= item.ratings.where(hidden: false).count %>)</span>
    </div>
  </div>

  <% if item.itemable.available == false %>
    <div class="alert alert-warning mb-3">
      You've marked this <%= item.itemable_type.downcase %> as unavailable
    </div>
  <% end %>

  <div data-toggle-target="content" class="hidden">
      <p><%= item.itemable.description %></p>
  </div>
</div>
