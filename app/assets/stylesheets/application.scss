// Graphical variables
@import "config/fonts";
@import "config/colors";
@import "config/bootstrap_variables";

// External libraries
@import "bootstrap";
@import "font-awesome";

// Your CSS partials
@import "components/index";
@import "pages/index";

// General rules throughout the application

body {
  background-color: rgb(0, 0, 0);
  color: rgb(230, 230, 230)
}

a {
  color: white;
  text-decoration: none;
}

.hidden {
  display: none;
}

.mb-navbar {
  margin-bottom: 97px;
}

.mt-header {
  margin-top: 110px;
}

// Mobile-first optimizations
// Disable SQLite warning for cleaner production logs
.sqlite-warning { display: none; }

// Mobile-optimized flash messages - compact banner at top
.alert {
  position: fixed !important;
  top: 0 !important;
  left: 0 !important;
  right: 0 !important;
  z-index: 1050;
  display: flex !important;
  align-items: center !important;
  justify-content: space-between !important;
  width: 100% !important;
  height: 50px !important;
  margin: 0 !important;
  border-radius: 0 !important;
  padding: 0.75rem 1rem !important;
  font-size: 0.9rem !important;
  font-weight: 500 !important;
  box-shadow: 0 2px 8px rgba(0,0,0,0.3);
  
  // Ensure text and button are perfectly aligned
  span {
    flex: 1 !important;
    margin: 0 !important;
    line-height: 1.2 !important;
    display: flex !important;
    align-items: center !important;
  }
  
  .btn-close {
    // Ensure close button is large enough for touch on mobile
    min-width: 40px !important;
    min-height: 40px !important;
    padding: 8px !important;
    margin: 0 0 0 0.75rem !important;
    flex-shrink: 0 !important;
    touch-action: manipulation;
    -webkit-touch-callout: none;
    -webkit-user-select: none;
    -khtml-user-select: none;
    -moz-user-select: none;
    -ms-user-select: none;
    user-select: none;
    display: flex !important;
    align-items: center !important;
    justify-content: center !important;
    
    // Improve visual feedback on touch
    &:active {
      transform: scale(0.95);
      transition: transform 0.1s ease;
    }
  }
  
  // Success/info styling
  &.alert-info {
    background-color: #198754 !important;
    color: #ffffff !important;
    border: none !important;
  }
  
  // Warning styling  
  &.alert-warning {
    background-color: #fd7e14 !important;
    color: #ffffff !important;
    border: none !important;
  }
}

.alert-link {
  margin-left: 0.5rem;
  color: white;
}

// Add top padding to body when flash messages are present
body.has-flash {
  // padding-top: 50px !important;
}

// Ensure flash messages don't interfere with fixed navbar
.navbar {
  z-index: 1040; // Lower than flash messages
}

// Mobile-specific optimizations
@media (max-width: 768px) {
  // Improve touch targets for all buttons
  .btn {
    min-height: 44px;
    min-width: 44px;
    touch-action: manipulation;
    
    &:active {
      transform: scale(0.98);
      transition: transform 0.1s ease;
    }
  }
  
  // Better card spacing on mobile
  .card {
    margin-bottom: 1rem;
    border-radius: 12px;
    box-shadow: 0 2px 12px rgba(0,0,0,0.2);
  }
  
  // Optimize navbar for mobile
  .navbar {
    padding: 0.75rem 1rem;
    
    .navbar-brand img {
      width: 60px !important;
    }
    
    .nav-link, .btn {
      margin: 0 0.25rem;
    }
  }
  
  // Better form controls on mobile
  .form-control, .form-select {
    min-height: 44px;
    font-size: 16px; // Prevents zoom on iOS
    border-radius: 8px;
  }
  
  // Optimize dropdowns for touch
  .dropdown-menu {
    border-radius: 12px;
    box-shadow: 0 4px 20px rgba(0,0,0,0.3);
    
    .dropdown-item {
      padding: 12px 16px;
      font-size: 0.95rem;
      
      &:active {
        background-color: rgba(255,255,255,0.1);
      }
    }
  }
  
  // Better avatar sizing for mobile
  .avatar {
    width: 44px !important;
    height: 44px !important;
    touch-action: manipulation;
  }
  
  // Optimize text sizes for mobile readability
  body {
    font-size: 0.95rem;
    line-height: 1.5;
  }
  
  h1 { font-size: 1.75rem; }
  h2 { font-size: 1.5rem; }
  h3 { font-size: 1.25rem; }
  h4 { font-size: 1.1rem; }
  
  // Better spacing for mobile
  .container, .container-fluid {
    padding-left: 1rem;
    padding-right: 1rem;
  }
}

// iOS-specific optimizations
@supports (-webkit-touch-callout: none) {
  // Disable callouts and selections for better UX
  .btn, .nav-link, .card, .dropdown-toggle {
    -webkit-touch-callout: none;
    -webkit-user-select: none;
  }
  
  // Fix iOS input zooming
  input, select, textarea {
    font-size: 16px !important;
  }
  
  // Better scrolling on iOS
  body, html {
    -webkit-overflow-scrolling: touch;
  }
}
